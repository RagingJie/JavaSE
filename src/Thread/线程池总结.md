# 线程池总结
> 线程池主要核心原理
 - 创建一个池子，池子中是空的
 - 提交任务时，池子会创建新的线程对象，任务执行完毕，线程归还池子，下回再次提交任务时，不需要创建新的线程，直接复用已有的线程即可
 - 但是如果提交任务时，池子中没有空闲线程，也无法创建新的线程，任务就会排队等待
> 线程池代码实现
 - 创建线程池
 - 提交任务
 - 所有的任务全部执行完毕，关闭线程池
 
 | 方法名称                                                     | 说明                     |
 | ------------------------------------------------------------ | ------------------------ |
 | public static ExecutorService newCachedThreadPool()          | 创建一个没有上限的线程池 |
 | public static ExecutorService newFixedThreadPool(int nThreads) | 创建有上限的线程池       |

- Executors：线程池的工具类通过调用方法返回不同类型的线程池对象

> 自定义线程池（任务拒绝策略）

| 任务拒绝策略                           | 说明                                                       |
| -------------------------------------- | ---------------------------------------------------------- |
| ThreadPoolExecutor.AbortPolicy         | 默认策略：丢弃任务并抛出异常RejectedExecutionException异常 |
| ThreadPoolExecutor.DiscardPolicy       | 丢弃任务，但是不抛出异常  这是不推荐的做法                 |
| ThreadPoolExecutor.DiscardOldestPolicy | 抛弃队列中等待最久的任务  然后把当前任务加入列队中         |
| ThreadPoolExecutor.CallerRunsPolicy    | 调用任务的run()方法绕过线程池直接执行                      |
